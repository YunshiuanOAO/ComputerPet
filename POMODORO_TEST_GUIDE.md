# 🍅 番茄鐘跟隨角色測試指南

## 📋 測試目標
驗證番茄鐘視窗能夠正確跟隨開啟它的特定角色移動，並且在角色移動時右鍵選單功能正常。

## 🚀 啟動測試

### 方法 1: 使用測試程式
```bash
java QuickPomodoroTest
```

### 方法 2: 直接測試
```bash
java DesktopPet
```

## 🧪 測試步驟

### 步驟 1: 準備多個角色
1. 啟動桌面寵物應用程式
2. 右鍵點擊主屋 → **設定角色數量** → 輸入 **3**
3. 確認螢幕上有 3 隻狗狗角色

### 步驟 2: 測試第一隻狗的番茄鐘跟隨
1. 右鍵點擊第一隻狗 → **角色行動** → **亂走**
2. 觀察狗狗開始隨機移動
3. 右鍵點擊移動中的狗狗 → **番茄鐘設定**
4. **✅ 預期結果**: 番茄鐘視窗出現並跟隨第一隻狗移動

### 步驟 3: 測試右鍵選單功能
1. 在狗狗移動過程中，嘗試右鍵點擊
2. **✅ 預期結果**: 選單正常顯示，不會因移動而消失
3. 選擇任意選單項目，確認功能正常

### 步驟 4: 測試切換跟隨目標
1. 關閉番茄鐘視窗（點擊 👁 按鈕或關閉視窗）
2. 右鍵點擊第二隻狗 → **角色行動** → **閃現**
3. 觀察第二隻狗開始瞬移
4. 右鍵點擊閃現中的狗狗 → **番茄鐘設定**
5. **✅ 預期結果**: 番茄鐘現在跟隨第二隻狗閃現移動

### 步驟 5: 測試主屋跟隨
1. 關閉番茄鐘視窗
2. 右鍵點擊主屋 → **番茄鐘設定**
3. 拖拽主屋到不同位置
4. **✅ 預期結果**: 番茄鐘跟隨主屋移動

### 步驟 6: 測試多種移動模式
測試以下移動模式的番茄鐘跟隨：
- **亂走**: 隨機移動
- **閃現**: 瞬移
- **拖拽**: 手動拖拽角色
- **回家**: 移動到主屋位置

## 📊 測試檢查清單

### ✅ 基本功能
- [ ] 番茄鐘能從任意角色開啟
- [ ] 番茄鐘跟隨開啟它的角色移動
- [ ] 移動中的角色右鍵選單正常顯示
- [ ] 選單不會因角色移動而消失

### ✅ 跟隨功能
- [ ] 亂走模式下番茄鐘正確跟隨
- [ ] 閃現模式下番茄鐘正確跟隨
- [ ] 拖拽時番茄鐘正確跟隨
- [ ] 主屋番茄鐘跟隨主屋移動

### ✅ 切換功能
- [ ] 關閉番茄鐘後能從新角色開啟
- [ ] 新番茄鐘跟隨新的角色
- [ ] 不同角色的番茄鐘行為獨立

### ✅ 邊界測試
- [ ] 角色移動到螢幕邊緣時番茄鐘正常跟隨
- [ ] 快速移動時番茄鐘跟隨流暢
- [ ] 多個角色同時移動時功能正常

## 🐛 常見問題排查

### 問題 1: 番茄鐘不跟隨角色
**可能原因**: 
- 番茄鐘是從主屋開啟的（應該跟隨主屋）
- 程式邏輯錯誤

**解決方法**:
- 確認從正確的角色開啟番茄鐘
- 重新啟動應用程式

### 問題 2: 右鍵選單消失
**可能原因**:
- 角色移動導致選單位置變化
- 滑鼠事件處理問題

**解決方法**:
- 檢查是否已修復移動中右鍵選單問題
- 嘗試在角色靜止時右鍵點擊

### 問題 3: 番茄鐘位置偏移
**可能原因**:
- 位置計算錯誤
- 更新頻率問題

**解決方法**:
- 檢查位置跟隨邏輯
- 調整更新頻率

## 📝 測試記錄模板

```
測試日期: ___________
測試人員: ___________

步驟 1 - 多角色設定: ✅/❌
步驟 2 - 第一隻狗跟隨: ✅/❌
步驟 3 - 右鍵選單功能: ✅/❌
步驟 4 - 切換跟隨目標: ✅/❌
步驟 5 - 主屋跟隨: ✅/❌
步驟 6 - 多種移動模式: ✅/❌

發現的問題:
1. ________________________
2. ________________________
3. ________________________

總體評價: ✅ 通過 / ❌ 失敗

備註:
_________________________________
_________________________________
```

## 🎯 成功標準

測試通過的標準：
1. **100%** 的基本功能正常
2. **100%** 的跟隨功能正常
3. **100%** 的切換功能正常
4. **90%** 以上的邊界測試通過
5. 無嚴重功能性錯誤

---

**注意**: 如果發現任何問題，請詳細記錄問題現象、重現步驟和預期行為，以便進行修復。 